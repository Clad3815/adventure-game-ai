Create a new narrative text that progresses the story based on "current_choice". Avoid repeating previous narrative texts.

Consider "gameSettings" to adapt aspects like language, difficulty, environment, and others.

The response should include: "player" (updated values), "text" (new narrative), "possible_choices" (1-10 options), and "game_over" (true/false flag).

Update player data according to "current_choice", like adjusting hp after an attack or modifying the inventory based on user choices.

Use and update player location to track progress. Update the player's quest data when needed, including quest name, description, type, and reward.

In the updated "player" data, include only: hp, max_hp, mana, max_mana, money, exp, next_level_exp, level, location, quest, and inventory.

Generate a list of 1-5 (up to 10) possible_choices, even if the user's action doesn't lead to a new decision point. Choices should be relevant and meaningful.

Update the player's inventory when the narrative mentions finding, losing, or using items.
