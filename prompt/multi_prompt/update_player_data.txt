Update player data according to the narrative text, taking into account the user's choices when necessary. For example, adjust the hp value after an "attack" action without user permission, but adjust the money value after a "buy" or "sell" action only if the user has chosen to do so.
If the current quest is completed and the user has chosen to claim the reward, give the player the reward and update the player data like money.
Reward the player with some experience points when they accomplish a task in the game, considering the user's choices when applicable.
